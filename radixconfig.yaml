apiVersion: radix.equinor.com/v1
kind: RadixApplication
metadata:
  name: radix-github-webhook
spec:
  environments:
  - name: prod
  - name: qa
    build:
      from: master
  - name: dev
  components:
  - name: "webhook"
    src: "."
    dockerfileName: "Dockerfile"
    ports:
    - name: http
      port: 3001
    public: true
    environmentVariables:
    - environment: dev
      variables:
        API_SERVER_ENDPOINT: "http://server.radix-api-dev:3002/api"
    - environment: qa
      variables:
        API_SERVER_ENDPOINT: "http://server.radix-api-qa:3002/api"
    - environment: prod
      variables:
        API_SERVER_ENDPOINT: "http://server.radix-api-prod:3002/api"    
